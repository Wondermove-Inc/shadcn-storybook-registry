{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-assistant-story",
  "type": "registry:component",
  "title": "AI Assistant Story",
  "author": "Lloyd Richards <lloyd.d.richards@gmail.com>",
  "description": "Interactive Storybook story demonstrating AI Assistant component with resizable panels",
  "registryDependencies": [
    "resizable"
  ],
  "files": [
    {
      "path": "src/registry/templates/ai-assistant/ai-assistant.stories.tsx",
      "content": "import React from \"react\";\nimport type { Meta, StoryObj } from \"@storybook/react-vite\";\nimport {\n  ResizableHandle,\n  ResizablePanel,\n  ResizablePanelGroup,\n} from \"@/components/ui/resizable\";\nimport { AIAssistant } from \"@/registry/templates/ai-assistant/ai-assistant\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@/components/ui/chart\";\nimport { Bar, BarChart, CartesianGrid, XAxis, YAxis } from \"recharts\";\nimport {\n  History,\n  X,\n  Infinity,\n  ChevronDown,\n  ArrowUp,\n  ChevronRight,\n  Copy,\n  MoreHorizontal,\n  TrendingUp,\n  Expand,\n} from \"lucide-react\";\n\n/**\n * AI Assistant 기본 시작 템플릿입니다.\n *\n * 🎯 목적: AI Assistant 컴포넌트의 독립적인 사용법 데모\n * ✨ 특징:\n * - ResizablePanelGroup을 사용한 반응형 레이아웃\n * - 메인 콘텐츠 영역과 AI Assistant 패널 분리\n * - 사용자가 패널 크기를 조절할 수 있는 리사이즈 핸들\n * - AI Assistant 패널의 기본 사이즈 정책 (25% 기본, 20-40% 범위)\n */\nconst meta: Meta = {\n  title: \"templates/AI Assistant\",\n  tags: [\"autodocs\"],\n  parameters: {\n    layout: \"fullscreen\",\n    docs: {\n      description: {\n        component: \"AI Assistant 컴포넌트만 독립적으로 사용하는 예시입니다.\",\n      },\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n/**\n * AI Assistant의 기본 사용 예시입니다.\n * 메인 콘텐츠 영역과 함께 리사이즈 가능한 패널로 구성되어 있습니다.\n */\nexport const Start: Story = {\n  render: () => (\n    <div className=\"bg-background h-screen w-full\">\n      <ResizablePanelGroup direction=\"horizontal\" className=\"h-full w-full\">\n        {/* 메인 콘텐츠 영역 */}\n        <ResizablePanel>\n          <div className=\"flex h-full items-center justify-center p-8\">\n            <div className=\"text-center\">\n              <h2 className=\"mb-2 text-lg font-semibold\">\n                AI Assistant 템플릿\n              </h2>\n              <p className=\"text-muted-foreground text-sm\">\n                AI Assistant 컴포넌트만 독립적으로 사용하는 예시입니다.\n              </p>\n            </div>\n          </div>\n        </ResizablePanel>\n\n        {/* AI Assistant 리사이즈 핸들 */}\n        <ResizableHandle className=\"w-1 cursor-col-resize bg-transparent transition-colors hover:bg-blue-500/20 active:bg-blue-500/30\" />\n\n        {/* AI Assistant 패널 (Default 스토리와 동일한 사이즈 정책) */}\n        <ResizablePanel defaultSize={25} minSize={20} maxSize={40}>\n          <AIAssistant\n            onClose={() => {}}\n            onStart={() => {}}\n            className=\"h-full w-full\"\n          />\n        </ResizablePanel>\n      </ResizablePanelGroup>\n    </div>\n  ),\n};\n\n/**\n * AI Assistant의 채팅 시작 전 상태입니다.\n * 사용자가 첫 메시지를 입력하기 전의 인터페이스를 보여줍니다.\n */\nexport const BeforeUtterance: Story = {\n  render: () => {\n    // 🎯 목적: 채팅 입력 상태 관리\n    const [message, setMessage] = React.useState(\"\");\n\n    // 🎯 목적: send 버튼 활성화 여부 계산\n    const isSendEnabled = message.trim().length > 0;\n\n    // 🎯 목적: Past Chats 펼침/접힘 상태 관리\n    const [isPastChatsExpanded, setIsPastChatsExpanded] = React.useState(false);\n\n    return (\n      <div className=\"bg-background h-screen w-full\">\n        <ResizablePanelGroup direction=\"horizontal\" className=\"h-full w-full\">\n          {/* 메인 콘텐츠 영역 */}\n          <ResizablePanel>\n            <div className=\"flex h-full items-center justify-center p-8\">\n              <div className=\"text-center\">\n                <h2 className=\"mb-2 text-lg font-semibold\">\n                  AI Assistant 템플릿\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                  채팅 시작 전 상태의 AI Assistant 인터페이스입니다.\n                </p>\n              </div>\n            </div>\n          </ResizablePanel>\n\n          {/* AI Assistant 리사이즈 핸들 */}\n          <ResizableHandle className=\"w-1 cursor-col-resize bg-transparent transition-colors hover:bg-blue-500/20 active:bg-blue-500/30\" />\n\n          {/* AI Assistant 패널 - Before Utterance 상태 */}\n          <ResizablePanel defaultSize={25} minSize={20} maxSize={40}>\n            <aside className=\"border-border bg-sidebar flex h-full shrink-0 flex-col justify-between gap-4 border-l p-4\">\n              {/* 🎯 목적: 헤더 섹션 */}\n              <div className=\"flex flex-col gap-2\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-foreground text-lg leading-7 font-semibold\">\n                    Skuber+ AI Assistant\n                  </h3>\n\n                  <div className=\"flex items-center\">\n                    {/* History 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <History className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">History</span>\n                    </Button>\n\n                    {/* Close 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">Close AI Assistant</span>\n                    </Button>\n                  </div>\n                </div>\n\n                {/* 🎯 목적: InputGroup 컴포넌트 기반 채팅 입력 영역 */}\n                <div\n                  className=\"bg-secondary border-border flex w-full flex-col rounded-lg border shadow-sm\"\n                  style={{ maxHeight: \"400px\" }}\n                >\n                  {/* Textarea 영역 with ScrollArea */}\n                  <ScrollArea className=\"max-h-96 p-3\">\n                    <Textarea\n                      placeholder=\"Ask, Search or Chat...\"\n                      value={message}\n                      onChange={(e) => setMessage(e.target.value)}\n                      className=\"text-primary placeholder:text-muted-foreground min-h-0 resize-none border-0 bg-transparent p-0 text-sm leading-5 focus-visible:ring-0\"\n                      rows={1}\n                    />\n                  </ScrollArea>\n\n                  {/* InputGroupAddonBlock - 하단 컨트롤 영역 */}\n                  <div className=\"flex items-center justify-between px-3 pt-1.5 pb-3\">\n                    {/* 좌측 컨트롤 그룹 */}\n                    <div className=\"flex items-center gap-2\">\n                      {/* Agent InputGroupButton */}\n                      <div className=\"flex items-start\">\n                        <div className=\"bg-background/50 border-border flex h-7 items-center justify-center gap-1.5 rounded-full border px-2.5 shadow-sm\">\n                          <Infinity className=\"h-4 w-4\" />\n                          <span className=\"text-foreground text-xs leading-4 font-medium\">\n                            Agent\n                          </span>\n                          <ChevronDown className=\"h-4 w-4\" />\n                        </div>\n                      </div>\n\n                      {/* Auto InputGroupButton */}\n                      <div className=\"flex items-start\">\n                        <div className=\"flex h-6 items-center justify-center gap-1 rounded-sm bg-transparent px-2\">\n                          <span className=\"text-muted-foreground text-sm leading-5 font-medium\">\n                            Auto\n                          </span>\n                          <ChevronDown className=\"h-4 w-4\" />\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* 우측 전송 버튼 그룹 */}\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"flex items-start\">\n                        <div\n                          className={`flex h-6 w-6 items-center justify-center rounded-full shadow-sm transition-all ${\n                            isSendEnabled\n                              ? \"bg-primary hover:bg-primary/90 cursor-pointer\"\n                              : \"bg-muted cursor-not-allowed opacity-50\"\n                          }`}\n                        >\n                          <ArrowUp\n                            className={`h-4 w-4 ${isSendEnabled ? \"text-primary-foreground\" : \"text-muted-foreground\"}`}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* 🎯 목적: Past Chats 섹션 */}\n              <div className=\"flex w-full flex-col gap-0\">\n                {/* Past Chats 버튼 */}\n                <div className=\"flex w-full shrink-0 items-center justify-between\">\n                  <Button\n                    variant=\"ghost\"\n                    onClick={() => setIsPastChatsExpanded(!isPastChatsExpanded)}\n                    className=\"flex h-9 items-center justify-center gap-2 px-4 py-2 text-sm font-medium\"\n                  >\n                    Past Chats\n                    {isPastChatsExpanded ? (\n                      <ChevronDown className=\"h-4 w-4\" />\n                    ) : (\n                      <ChevronRight className=\"h-4 w-4\" />\n                    )}\n                  </Button>\n\n                  {isPastChatsExpanded && (\n                    <Button\n                      variant=\"ghost\"\n                      className=\"flex h-8 items-center justify-center gap-2 px-3 py-2 text-xs font-medium\"\n                    >\n                      View All\n                    </Button>\n                  )}\n                </div>\n\n                {/* 펼쳐진 채팅 리스트 */}\n                {isPastChatsExpanded && (\n                  <div className=\"flex w-full flex-col\">\n                    {/* 채팅 아이템 1 */}\n                    <div className=\"hover:bg-muted/50 flex shrink-0 items-start gap-2.5 rounded-lg px-4 py-3\">\n                      <div className=\"flex shrink-0 flex-grow flex-col items-start justify-center gap-1\">\n                        <span className=\"text-muted-foreground self-stretch text-sm leading-5\">\n                          past-chat-1\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-end gap-2 self-stretch\">\n                        <span className=\"text-muted-foreground text-xs leading-4\">\n                          1h\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* 채팅 아이템 2 */}\n                    <div className=\"hover:bg-muted/50 flex shrink-0 items-start gap-2.5 rounded-lg px-4 py-3\">\n                      <div className=\"flex shrink-0 flex-grow flex-col items-start justify-center gap-1\">\n                        <span className=\"text-muted-foreground self-stretch text-sm leading-5\">\n                          past-chat-2\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-end gap-2 self-stretch\">\n                        <span className=\"text-muted-foreground text-xs leading-4\">\n                          4d\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* 채팅 아이템 3 */}\n                    <div className=\"hover:bg-muted/50 flex shrink-0 items-start gap-2.5 rounded-lg px-4 py-3\">\n                      <div className=\"flex shrink-0 flex-grow flex-col items-start justify-center gap-1\">\n                        <span className=\"text-muted-foreground self-stretch text-sm leading-5\">\n                          past-chat-3\n                        </span>\n                      </div>\n                      <div className=\"flex items-center justify-end gap-2 self-stretch\">\n                        <span className=\"text-muted-foreground text-xs leading-4\">\n                          5d\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </aside>\n          </ResizablePanel>\n        </ResizablePanelGroup>\n      </div>\n    );\n  },\n};\n\n/**\n * AI Assistant의 채팅 응답 후 상태입니다.\n * AI가 응답을 완료한 후의 인터페이스를 보여줍니다.\n */\nexport const AnswersText: Story = {\n  render: () => {\n    // 🎯 목적: 채팅 입력 상태 관리 (InputGroup용)\n    const [message, setMessage] = React.useState(\"\");\n\n    // 🎯 목적: send 버튼 활성화 여부 계산\n    const isSendEnabled = message.trim().length > 0;\n\n    // 🎯 목적: 사용자 발화 버튼 편집 상태 관리\n    const [isEditingUserMessage, setIsEditingUserMessage] =\n      React.useState(false);\n    const [userMessageText, setUserMessageText] = React.useState(\n      \"최근 일주일 동안 생성되거나 변경된 IAM 사용자 내역을 알고싶어.\",\n    );\n\n    return (\n      <div className=\"bg-background h-screen w-full\">\n        <ResizablePanelGroup direction=\"horizontal\" className=\"h-full w-full\">\n          {/* 메인 콘텐츠 영역 */}\n          <ResizablePanel>\n            <div className=\"flex h-full items-center justify-center p-8\">\n              <div className=\"text-center\">\n                <h2 className=\"mb-2 text-lg font-semibold\">\n                  AI Assistant 템플릿\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                  AI 응답 완료 후 상태의 AI Assistant 인터페이스입니다.\n                </p>\n              </div>\n            </div>\n          </ResizablePanel>\n\n          {/* AI Assistant 리사이즈 핸들 */}\n          <ResizableHandle className=\"w-1 cursor-col-resize bg-transparent transition-colors hover:bg-blue-500/20 active:bg-blue-500/30\" />\n\n          {/* AI Assistant 패널 - After Utterance 상태 */}\n          <ResizablePanel defaultSize={25} minSize={20} maxSize={40}>\n            <aside className=\"border-border bg-sidebar relative flex h-full shrink-0 flex-col border-l p-4\">\n              {/* 🎯 목적: 헤더 섹션 */}\n              <div className=\"flex shrink-0 flex-col gap-2\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-foreground text-lg leading-7 font-semibold\">\n                    New chat\n                  </h3>\n\n                  <div className=\"flex items-center\">\n                    {/* History 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <History className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">History</span>\n                    </Button>\n\n                    {/* Close 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">Close AI Assistant</span>\n                    </Button>\n                  </div>\n                </div>\n\n                {/* 🎯 목적: AI 응답 섹션 (스크롤 가능) - InputGroup 공간 제외 */}\n                <div\n                  className=\"min-h-0 flex-1\"\n                  style={{ paddingBottom: \"calc(150px + 1rem)\" }}\n                >\n                  <ScrollArea className=\"h-full\">\n                    <div className=\"flex flex-col items-end gap-4\">\n                      {/* 사용자 질문 버튼 또는 편집 InputGroup */}\n                      {isEditingUserMessage ? (\n                        <div\n                          className=\"bg-secondary border-border flex w-full flex-col rounded-lg border shadow-sm\"\n                          style={{ maxHeight: \"400px\" }}\n                        >\n                          {/* Textarea 영역 with ScrollArea */}\n                          <ScrollArea className=\"max-h-96 p-3\">\n                            <Textarea\n                              value={userMessageText}\n                              onChange={(e) =>\n                                setUserMessageText(e.target.value)\n                              }\n                              onBlur={() => setIsEditingUserMessage(false)}\n                              className=\"text-primary placeholder:text-muted-foreground min-h-0 resize-none border-0 bg-transparent p-0 text-sm leading-5 focus-visible:ring-0\"\n                              rows={1}\n                              autoFocus\n                            />\n                          </ScrollArea>\n\n                          {/* InputGroupAddonBlock - 하단 컨트롤 영역 */}\n                          <div className=\"flex items-center justify-between px-3 pt-1.5 pb-3\">\n                            {/* 좌측 컨트롤 그룹 */}\n                            <div className=\"flex items-center gap-2\">\n                              {/* Agent InputGroupButton */}\n                              <div className=\"flex items-start\">\n                                <div className=\"bg-background/50 border-border flex h-7 items-center justify-center gap-1.5 rounded-full border px-2.5 shadow-sm\">\n                                  <Infinity className=\"h-4 w-4\" />\n                                  <span className=\"text-foreground text-xs leading-4 font-medium\">\n                                    Agent\n                                  </span>\n                                  <ChevronDown className=\"h-4 w-4\" />\n                                </div>\n                              </div>\n\n                              {/* Auto InputGroupButton */}\n                              <div className=\"flex items-start\">\n                                <div className=\"flex h-6 items-center justify-center gap-1 rounded-sm bg-transparent px-2\">\n                                  <span className=\"text-muted-foreground text-sm leading-5 font-medium\">\n                                    Auto\n                                  </span>\n                                  <ChevronDown className=\"h-4 w-4\" />\n                                </div>\n                              </div>\n                            </div>\n\n                            {/* 우측 전송 버튼 그룹 */}\n                            <div className=\"flex items-center gap-2\">\n                              <div className=\"flex items-start\">\n                                <div\n                                  className={`flex h-6 w-6 items-center justify-center rounded-full shadow-sm transition-all ${\n                                    userMessageText.trim().length > 0\n                                      ? \"bg-primary hover:bg-primary/90 cursor-pointer\"\n                                      : \"bg-muted cursor-not-allowed opacity-50\"\n                                  }`}\n                                >\n                                  <ArrowUp\n                                    className={`h-4 w-4 ${userMessageText.trim().length > 0 ? \"text-primary-foreground\" : \"text-muted-foreground\"}`}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        <Button\n                          variant=\"outline\"\n                          className=\"h-auto w-full cursor-pointer justify-start text-left text-sm font-medium break-words whitespace-normal\"\n                          onClick={() => setIsEditingUserMessage(true)}\n                        >\n                          {userMessageText}\n                        </Button>\n                      )}\n\n                      {/* AI 응답 콘텐츠 */}\n                      <div className=\"flex flex-col items-start gap-5 self-stretch\">\n                        {/* Blockquote */}\n                        <div className=\"flex w-full flex-col items-start\">\n                          <div className=\"border-border flex w-full shrink-0 items-center gap-2 border-l-2 px-0 py-0 pl-4\">\n                            <span className=\"text-primary flex-grow text-sm leading-5\">\n                              최근 7일간 생성되거나 변경된 IAM 사용자 내역은\n                              다음과 같습니다.\n                            </span>\n                          </div>\n                        </div>\n\n                        {/* 상세 응답 텍스트 */}\n                        <div className=\"text-primary self-stretch text-sm leading-5\">\n                          <p>1. [2025-10-21 14:23:10 UTC]</p>\n                          <p className=\"ml-3\">사용자 'data-engineer' 생성됨</p>\n                          <p className=\"ml-3\">생성자: admin@cluster.local</p>\n                          <p className=\"ml-3\">부여된 권한: read-only-access</p>\n                          <br />\n                          <p>2. [2025-10-20 09:47:35 UTC]</p>\n                          <p className=\"ml-3\">\n                            사용자 'devops-agent'의 정책이 수정됨\n                          </p>\n                          <p className=\"ml-3\">\n                            변경 사항: S3FullAccess → S3ReadOnlyAccess\n                          </p>\n                          <p className=\"ml-3\">\n                            수정자: security-admin@cluster.local\n                          </p>\n                          <br />\n                          <p>3. [2025-10-19 18:02:12 UTC]</p>\n                          <p className=\"ml-3\">사용자 'temp-user-01'이 삭제됨</p>\n                          <p className=\"ml-3\">삭제자: admin@cluster.local</p>\n                        </div>\n\n                        {/* Separator */}\n                        <div className=\"bg-border h-px w-full\" />\n\n                        {/* 요약 섹션 */}\n                        <div className=\"text-primary w-full text-sm leading-5\">\n                          <p>요약:</p>\n                          <p>신규 생성: 1명</p>\n                          <p>정책 변경: 1건</p>\n                          <p>삭제: 1명</p>\n                        </div>\n                      </div>\n\n                      {/* Copy/More 버튼 */}\n                      <div className=\"flex items-center\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                        >\n                          <Copy className=\"h-4 w-4\" />\n                          <span className=\"sr-only\">Copy response</span>\n                        </Button>\n\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                        >\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                          <span className=\"sr-only\">More options</span>\n                        </Button>\n                      </div>\n                    </div>\n                  </ScrollArea>\n                </div>\n              </div>\n\n              {/* 🎯 목적: InputGroup 컴포넌트 (뷰포트 하단 고정) */}\n              <div\n                className=\"bg-secondary border-border absolute right-4 bottom-4 left-4 flex flex-col rounded-lg border shadow-sm\"\n                style={{ maxHeight: \"400px\" }}\n              >\n                {/* Textarea 영역 with ScrollArea */}\n                <ScrollArea className=\"max-h-96 p-3\">\n                  <Textarea\n                    placeholder=\"Ask, Search or Chat...\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    className=\"text-primary placeholder:text-muted-foreground min-h-0 resize-none border-0 bg-transparent p-0 text-sm leading-5 focus-visible:ring-0\"\n                    rows={1}\n                  />\n                </ScrollArea>\n\n                {/* InputGroupAddonBlock - 하단 컨트롤 영역 */}\n                <div className=\"flex items-center justify-between px-3 pt-1.5 pb-3\">\n                  {/* 좌측 컨트롤 그룹 */}\n                  <div className=\"flex items-center gap-2\">\n                    {/* Agent InputGroupButton */}\n                    <div className=\"flex items-start\">\n                      <div className=\"bg-background/50 border-border flex h-7 items-center justify-center gap-1.5 rounded-full border px-2.5 shadow-sm\">\n                        <Infinity className=\"h-4 w-4\" />\n                        <span className=\"text-foreground text-xs leading-4 font-medium\">\n                          Agent\n                        </span>\n                        <ChevronDown className=\"h-4 w-4\" />\n                      </div>\n                    </div>\n\n                    {/* Auto InputGroupButton */}\n                    <div className=\"flex items-start\">\n                      <div className=\"flex h-6 items-center justify-center gap-1 rounded-sm bg-transparent px-2\">\n                        <span className=\"text-muted-foreground text-sm leading-5 font-medium\">\n                          Auto\n                        </span>\n                        <ChevronDown className=\"h-4 w-4\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* 우측 전송 버튼 그룹 */}\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex items-start\">\n                      <div\n                        className={`flex h-6 w-6 items-center justify-center rounded-full shadow-sm transition-all ${\n                          isSendEnabled\n                            ? \"bg-primary hover:bg-primary/90 cursor-pointer\"\n                            : \"bg-muted cursor-not-allowed opacity-50\"\n                        }`}\n                      >\n                        <ArrowUp\n                          className={`h-4 w-4 ${isSendEnabled ? \"text-primary-foreground\" : \"text-muted-foreground\"}`}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </aside>\n          </ResizablePanel>\n        </ResizablePanelGroup>\n      </div>\n    );\n  },\n};\n\n/**\n * AI Assistant의 차트 답변 예시입니다.\n * 차트 카드 형태로 IAM 사용자 활동 데이터를 시각화하여 보여줍니다.\n */\nexport const AnswersChart: Story = {\n  render: () => {\n    // 🎯 목적: 채팅 입력 상태 관리 (InputGroup용)\n    const [message, setMessage] = React.useState(\"\");\n\n    // 🎯 목적: send 버튼 활성화 여부 계산\n    const isSendEnabled = message.trim().length > 0;\n\n    // 🎯 목적: 사용자 발화 버튼 편집 상태 관리\n    const [isEditingUserMessage, setIsEditingUserMessage] =\n      React.useState(false);\n    const [userMessageText, setUserMessageText] = React.useState(\n      \"최근 일주일 동안 생성되거나 변경된 IAM 사용자 내역을 알고싶어.\",\n    );\n\n    // 🎯 목적: 차트 데이터 정의\n    const chartData = [\n      { period: \"월\", created: 12, modified: 8 },\n      { period: \"화\", created: 19, modified: 13 },\n      { period: \"수\", created: 3, modified: 15 },\n      { period: \"목\", created: 5, modified: 2 },\n      { period: \"금\", created: 2, modified: 7 },\n      { period: \"토\", created: 9, modified: 4 },\n      { period: \"일\", created: 15, modified: 11 },\n    ];\n\n    const chartConfig = {\n      created: {\n        label: \"생성된 사용자\",\n        color: \"var(--chart-1)\",\n      },\n      modified: {\n        label: \"수정된 사용자\",\n        color: \"var(--chart-2)\",\n      },\n    };\n\n    return (\n      <div className=\"bg-background h-screen w-full\">\n        <ResizablePanelGroup direction=\"horizontal\" className=\"h-full w-full\">\n          {/* 메인 콘텐츠 영역 */}\n          <ResizablePanel>\n            <div className=\"flex h-full items-center justify-center p-8\">\n              <div className=\"text-center\">\n                <h2 className=\"mb-2 text-lg font-semibold\">\n                  AI Assistant 템플릿\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                  AI 차트 답변 예시의 AI Assistant 인터페이스입니다.\n                </p>\n              </div>\n            </div>\n          </ResizablePanel>\n\n          {/* AI Assistant 리사이즈 핸들 */}\n          <ResizableHandle className=\"w-1 cursor-col-resize bg-transparent transition-colors hover:bg-blue-500/20 active:bg-blue-500/30\" />\n\n          {/* AI Assistant 패널 - Chart Answers 상태 */}\n          <ResizablePanel defaultSize={25} minSize={20} maxSize={40}>\n            <aside className=\"border-border bg-sidebar relative flex h-full shrink-0 flex-col border-l p-4\">\n              {/* 🎯 목적: 헤더 섹션 */}\n              <div className=\"flex shrink-0 flex-col gap-2\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-foreground text-lg leading-7 font-semibold\">\n                    New chat\n                  </h3>\n\n                  <div className=\"flex items-center\">\n                    {/* History 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <History className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">History</span>\n                    </Button>\n\n                    {/* Close 버튼 */}\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">Close AI Assistant</span>\n                    </Button>\n                  </div>\n                </div>\n\n                {/* 🎯 목적: AI 응답 섹션 (스크롤 가능) - InputGroup 공간 제외 */}\n                <div\n                  className=\"min-h-0 flex-1\"\n                  style={{ paddingBottom: \"calc(150px + 1rem)\" }}\n                >\n                  <ScrollArea className=\"h-full\">\n                    <div className=\"flex flex-col items-end gap-4\">\n                      {/* 사용자 질문 버튼 또는 편집 InputGroup */}\n                      {isEditingUserMessage ? (\n                        <div\n                          className=\"bg-secondary border-border flex w-full flex-col rounded-lg border shadow-sm\"\n                          style={{ maxHeight: \"400px\" }}\n                        >\n                          {/* Textarea 영역 with ScrollArea */}\n                          <ScrollArea className=\"max-h-96 p-3\">\n                            <Textarea\n                              value={userMessageText}\n                              onChange={(e) =>\n                                setUserMessageText(e.target.value)\n                              }\n                              onBlur={() => setIsEditingUserMessage(false)}\n                              className=\"text-primary placeholder:text-muted-foreground min-h-0 resize-none border-0 bg-transparent p-0 text-sm leading-5 focus-visible:ring-0\"\n                              rows={1}\n                              autoFocus\n                            />\n                          </ScrollArea>\n\n                          {/* InputGroupAddonBlock - 하단 컨트롤 영역 */}\n                          <div className=\"flex items-center justify-between px-3 pt-1.5 pb-3\">\n                            {/* 좌측 컨트롤 그룹 */}\n                            <div className=\"flex items-center gap-2\">\n                              {/* Agent InputGroupButton */}\n                              <div className=\"flex items-start\">\n                                <div className=\"bg-background/50 border-border flex h-7 items-center justify-center gap-1.5 rounded-full border px-2.5 shadow-sm\">\n                                  <Infinity className=\"h-4 w-4\" />\n                                  <span className=\"text-foreground text-xs leading-4 font-medium\">\n                                    Agent\n                                  </span>\n                                  <ChevronDown className=\"h-4 w-4\" />\n                                </div>\n                              </div>\n\n                              {/* Auto InputGroupButton */}\n                              <div className=\"flex items-start\">\n                                <div className=\"flex h-6 items-center justify-center gap-1 rounded-sm bg-transparent px-2\">\n                                  <span className=\"text-muted-foreground text-sm leading-5 font-medium\">\n                                    Auto\n                                  </span>\n                                  <ChevronDown className=\"h-4 w-4\" />\n                                </div>\n                              </div>\n                            </div>\n\n                            {/* 우측 전송 버튼 그룹 */}\n                            <div className=\"flex items-center gap-2\">\n                              <div className=\"flex items-start\">\n                                <div\n                                  className={`flex h-6 w-6 items-center justify-center rounded-full shadow-sm transition-all ${\n                                    userMessageText.trim().length > 0\n                                      ? \"bg-primary hover:bg-primary/90 cursor-pointer\"\n                                      : \"bg-muted cursor-not-allowed opacity-50\"\n                                  }`}\n                                >\n                                  <ArrowUp\n                                    className={`h-4 w-4 ${userMessageText.trim().length > 0 ? \"text-primary-foreground\" : \"text-muted-foreground\"}`}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        <Button\n                          variant=\"outline\"\n                          className=\"h-auto w-full cursor-pointer justify-start text-left text-sm font-medium break-words whitespace-normal\"\n                          onClick={() => setIsEditingUserMessage(true)}\n                        >\n                          {userMessageText}\n                        </Button>\n                      )}\n\n                      {/* AI 응답 콘텐츠 - 텍스트 부분만 (차트 제외) */}\n                      <div className=\"flex w-full flex-col items-start gap-5\">\n                        {/* Blockquote */}\n                        <div className=\"flex w-full flex-col items-start\">\n                          <div className=\"border-border flex w-full shrink-0 items-center gap-2 border-l-2 px-0 py-0 pl-4\">\n                            <span className=\"text-primary flex-grow text-sm leading-5\">\n                              최근 7일간 IAM 사용자 활동 통계입니다.\n                            </span>\n                          </div>\n                        </div>\n\n                        {/* Separator */}\n                        <div className=\"bg-border h-px w-full\" />\n\n                        {/* 요약 섹션 */}\n                        <div className=\"text-primary w-full text-sm leading-5\">\n                          <p>주요 인사이트:</p>\n                          <p>• 금요일에 가장 많은 사용자 생성 (19명)</p>\n                          <p>• 수요일에 가장 많은 정책 수정 (15건)</p>\n                          <p>• 주말 활동량은 평일 대비 40% 감소</p>\n                        </div>\n                      </div>\n\n                      {/* Copy/More 버튼 */}\n                      <div className=\"flex items-center\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                        >\n                          <Copy className=\"h-4 w-4\" />\n                          <span className=\"sr-only\">Copy response</span>\n                        </Button>\n\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-8 w-8 shrink-0 p-0 opacity-70 hover:opacity-100\"\n                        >\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                          <span className=\"sr-only\">More options</span>\n                        </Button>\n                      </div>\n                    </div>\n                  </ScrollArea>\n                </div>\n\n                {/* 🎯 목적: 차트 카드 영역 - ScrollArea 외부에서 독립적인 횡스크롤 */}\n                <div className=\"mt-4 w-full\">\n                  <div className=\"flex gap-4 overflow-x-auto pb-2\">\n                    {/* 차트 카드 1 - 사용자 생성 데이터 */}\n                    <div\n                      data-slot=\"card\"\n                      className=\"bg-card w-80 flex-none rounded-xl border p-6 shadow-sm\"\n                    >\n                      <div className=\"mb-4\">\n                        <h3 className=\"text-lg font-semibold\">\n                          사용자 생성 추이\n                        </h3>\n                        <p className=\"text-muted-foreground text-sm\">\n                          최근 7일간 새로 생성된 IAM 사용자 수\n                        </p>\n                      </div>\n                      <ChartContainer\n                        config={chartConfig}\n                        className=\"h-48 w-full\"\n                      >\n                        <BarChart data={chartData}>\n                          <CartesianGrid vertical={false} />\n                          <XAxis\n                            dataKey=\"period\"\n                            tickLine={false}\n                            tickMargin={10}\n                            axisLine={false}\n                          />\n                          <ChartTooltip content={<ChartTooltipContent />} />\n                          <Bar\n                            dataKey=\"created\"\n                            fill=\"var(--color-created)\"\n                            radius={4}\n                          />\n                        </BarChart>\n                      </ChartContainer>\n                    </div>\n\n                    {/* 차트 카드 2 - 사용자 수정 데이터 */}\n                    <div\n                      data-slot=\"card\"\n                      className=\"bg-card w-80 flex-none rounded-xl border p-6 shadow-sm\"\n                    >\n                      <div className=\"mb-4\">\n                        <h3 className=\"text-lg font-semibold\">\n                          정책 수정 추이\n                        </h3>\n                        <p className=\"text-muted-foreground text-sm\">\n                          최근 7일간 수정된 사용자 정책 수\n                        </p>\n                      </div>\n                      <ChartContainer\n                        config={chartConfig}\n                        className=\"h-48 w-full\"\n                      >\n                        <BarChart data={chartData}>\n                          <CartesianGrid vertical={false} />\n                          <XAxis\n                            dataKey=\"period\"\n                            tickLine={false}\n                            tickMargin={10}\n                            axisLine={false}\n                          />\n                          <ChartTooltip content={<ChartTooltipContent />} />\n                          <Bar\n                            dataKey=\"modified\"\n                            fill=\"var(--color-modified)\"\n                            radius={4}\n                          />\n                        </BarChart>\n                      </ChartContainer>\n                    </div>\n\n                    {/* 차트 카드 3 - 활동량 비교 */}\n                    <div\n                      data-slot=\"card\"\n                      className=\"bg-card w-80 flex-none rounded-xl border p-6 shadow-sm\"\n                    >\n                      <div className=\"mb-4\">\n                        <h3 className=\"text-lg font-semibold\">주간 활동량</h3>\n                        <p className=\"text-muted-foreground text-sm\">\n                          생성 vs 수정 비교 차트\n                        </p>\n                      </div>\n                      <ChartContainer\n                        config={chartConfig}\n                        className=\"h-48 w-full\"\n                      >\n                        <BarChart data={chartData}>\n                          <CartesianGrid vertical={false} />\n                          <XAxis\n                            dataKey=\"period\"\n                            tickLine={false}\n                            tickMargin={10}\n                            axisLine={false}\n                          />\n                          <ChartTooltip content={<ChartTooltipContent />} />\n                          <Bar\n                            dataKey=\"created\"\n                            fill=\"var(--color-created)\"\n                            radius={4}\n                          />\n                          <Bar\n                            dataKey=\"modified\"\n                            fill=\"var(--color-modified)\"\n                            radius={4}\n                          />\n                        </BarChart>\n                      </ChartContainer>\n                    </div>\n\n                    {/* 차트 카드 4 - 총 활동량 */}\n                    <div\n                      data-slot=\"card\"\n                      className=\"bg-card w-80 flex-none rounded-xl border p-6 shadow-sm\"\n                    >\n                      <div className=\"mb-4\">\n                        <h3 className=\"text-lg font-semibold\">총 활동량</h3>\n                        <p className=\"text-muted-foreground text-sm\">\n                          일일 총 IAM 사용자 활동 수\n                        </p>\n                      </div>\n                      <ChartContainer\n                        config={chartConfig}\n                        className=\"h-48 w-full\"\n                      >\n                        <BarChart\n                          data={chartData.map((item) => ({\n                            ...item,\n                            total: item.created + item.modified,\n                          }))}\n                        >\n                          <CartesianGrid vertical={false} />\n                          <XAxis\n                            dataKey=\"period\"\n                            tickLine={false}\n                            tickMargin={10}\n                            axisLine={false}\n                          />\n                          <ChartTooltip content={<ChartTooltipContent />} />\n                          <Bar\n                            dataKey=\"total\"\n                            fill=\"var(--chart-3)\"\n                            radius={4}\n                          />\n                        </BarChart>\n                      </ChartContainer>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* 🎯 목적: InputGroup 컴포넌트 (뷰포트 하단 고정) */}\n              <div\n                className=\"bg-secondary border-border absolute right-4 bottom-4 left-4 flex flex-col rounded-lg border shadow-sm\"\n                style={{ maxHeight: \"400px\" }}\n              >\n                {/* Textarea 영역 with ScrollArea */}\n                <ScrollArea className=\"max-h-96 p-3\">\n                  <Textarea\n                    placeholder=\"Ask, Search or Chat...\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    className=\"text-primary placeholder:text-muted-foreground min-h-0 resize-none border-0 bg-transparent p-0 text-sm leading-5 focus-visible:ring-0\"\n                    rows={1}\n                  />\n                </ScrollArea>\n\n                {/* InputGroupAddonBlock - 하단 컨트롤 영역 */}\n                <div className=\"flex items-center justify-between px-3 pt-1.5 pb-3\">\n                  {/* 좌측 컨트롤 그룹 */}\n                  <div className=\"flex items-center gap-2\">\n                    {/* Agent InputGroupButton */}\n                    <div className=\"flex items-start\">\n                      <div className=\"bg-background/50 border-border flex h-7 items-center justify-center gap-1.5 rounded-full border px-2.5 shadow-sm\">\n                        <Infinity className=\"h-4 w-4\" />\n                        <span className=\"text-foreground text-xs leading-4 font-medium\">\n                          Agent\n                        </span>\n                        <ChevronDown className=\"h-4 w-4\" />\n                      </div>\n                    </div>\n\n                    {/* Auto InputGroupButton */}\n                    <div className=\"flex items-start\">\n                      <div className=\"flex h-6 items-center justify-center gap-1 rounded-sm bg-transparent px-2\">\n                        <span className=\"text-muted-foreground text-sm leading-5 font-medium\">\n                          Auto\n                        </span>\n                        <ChevronDown className=\"h-4 w-4\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* 우측 전송 버튼 그룹 */}\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex items-start\">\n                      <div\n                        className={`flex h-6 w-6 items-center justify-center rounded-full shadow-sm transition-all ${\n                          isSendEnabled\n                            ? \"bg-primary hover:bg-primary/90 cursor-pointer\"\n                            : \"bg-muted cursor-not-allowed opacity-50\"\n                        }`}\n                      >\n                        <ArrowUp\n                          className={`h-4 w-4 ${isSendEnabled ? \"text-primary-foreground\" : \"text-muted-foreground\"}`}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </aside>\n          </ResizablePanel>\n        </ResizablePanelGroup>\n      </div>\n    );\n  },\n};\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "templates",
    "storybook",
    "ai-assistant",
    "resizable"
  ]
}