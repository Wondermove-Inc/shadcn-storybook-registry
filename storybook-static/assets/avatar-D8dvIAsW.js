import{r as u}from"./iframe-BiU2suBC.js";import{a as A}from"./utils-DgWKjmuI.js";import{c as b}from"./index-BT5_MN2X.js";import{u as L}from"./index-BUJQGk3H.js";import{u as C}from"./index-ynW3WxUC.js";import{P as v}from"./index-DF-uitis.js";import{r as w}from"./index-wLFCSCG5.js";import{j as c}from"./jsx-runtime-D_zvdyIk.js";var x=w();function N(){return x.useSyncExternalStore(B,()=>!0,()=>!1)}function B(){return()=>{}}var D="Avatar",[k]=b(D),[j,y]=k(D),E=u.forwardRef((a,e)=>{const{__scopeAvatar:t,...n}=a,[o,r]=u.useState("idle");return c.jsx(j,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:r,children:c.jsx(v.span,{...n,ref:e})})});E.displayName=D;var h="AvatarImage",F=u.forwardRef((a,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:o=()=>{},...r}=a,i=y(h,t),s=q(n,r),d=L(l=>{o(l),i.onImageLoadingStatusChange(l)});return C(()=>{s!=="idle"&&d(s)},[s,d]),s==="loaded"?c.jsx(v.img,{...r,ref:e,src:n}):null});F.displayName=h;var R="AvatarFallback",I=u.forwardRef((a,e)=>{const{__scopeAvatar:t,delayMs:n,...o}=a,r=y(R,t),[i,s]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(d)}},[n]),i&&r.imageLoadingStatus!=="loaded"?c.jsx(v.span,{...o,ref:e}):null});I.displayName=R;function _(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function q(a,{referrerPolicy:e,crossOrigin:t}){const n=N(),o=u.useRef(null),r=n?(o.current||(o.current=new window.Image),o.current):null,[i,s]=u.useState(()=>_(r,a));return C(()=>{s(_(r,a))},[r,a]),C(()=>{const d=S=>()=>{s(S)};if(!r)return;const l=d("loaded"),g=d("error");return r.addEventListener("load",l),r.addEventListener("error",g),e&&(r.referrerPolicy=e),typeof t=="string"&&(r.crossOrigin=t),()=>{r.removeEventListener("load",l),r.removeEventListener("error",g)}},[r,t,e]),i}var M=E,P=F,V=I;const f=u.forwardRef(({className:a,...e},t)=>u.createElement(M,{ref:t,"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e}));f.displayName="Avatar";const m=u.forwardRef(({className:a,...e},t)=>u.createElement(P,{ref:t,"data-slot":"avatar-image",className:A("aspect-square size-full",a),...e}));m.displayName="AvatarImage";const p=u.forwardRef(({className:a,...e},t)=>u.createElement(V,{ref:t,"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",a),...e}));p.displayName="AvatarFallback";try{f.displayName="Avatar",f.__docgenInfo={description:`🎯 목적: Avatar 컴포넌트에 forwardRef 적용하여 React 18/19 호환성 제공
📝 주의사항: Radix UI Avatar primitive 사용, ElementRef 타입 필수
🔄 변경이력: 2025-10-11 - React 18/19 dual support를 위한 forwardRef 추가`,displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}try{p.displayName="AvatarFallback",p.__docgenInfo={description:`🎯 목적: AvatarFallback 컴포넌트에 forwardRef 적용
📝 주의사항: bg-muted 배경색 유지`,displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}try{m.displayName="AvatarImage",m.__docgenInfo={description:`🎯 목적: AvatarImage 컴포넌트에 forwardRef 적용
📝 주의사항: aspect-square 비율 유지`,displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{f as A,m as a,p as b};
