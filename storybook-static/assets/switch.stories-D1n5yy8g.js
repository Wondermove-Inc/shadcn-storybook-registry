import{r as c,e}from"./iframe-BiU2suBC.js";import{u as K,a as X,F as G,b as R,c as T,d as P,f as j,e as L,o as Q,j as M}from"./form-DtlXXF_B.js";import{t as Z}from"./index-DmqJAwmu.js";import{B as ee}from"./button-o25yRkrR.js";import{L as A}from"./label-DQUVhDdS.js";import{T as te}from"./sonner-C3seWNUZ.js";import{c as ae}from"./index-Dc_FVRD7.js";import{u as O}from"./index-vBP3oNXZ.js";import{c as re}from"./index-BT5_MN2X.js";import{u as se}from"./index-CpP8DfwQ.js";import{u as ce}from"./index-BT53Il6f.js";import{u as oe}from"./index-DJRgpZyQ.js";import{P as U}from"./index-DF-uitis.js";import{j as C}from"./jsx-runtime-D_zvdyIk.js";import{a as I}from"./utils-DgWKjmuI.js";import"./preload-helper-PPVm8Dsz.js";import"./index-Bjt_zW8z.js";import"./index-CtYre8eh.js";import"./index-dSc6CJZX.js";import"./index-ynW3WxUC.js";var y="Switch",[ne]=re(y),[ie,le]=ne(y),q=c.forwardRef((a,r)=>{const{__scopeSwitch:t,name:s,checked:n,defaultChecked:x,required:d,disabled:i,value:u="on",onCheckedChange:D,form:l,..._}=a,[g,v]=c.useState(null),N=O(r,E=>v(E)),F=c.useRef(!1),B=g?l||!!g.closest("form"):!0,[k,Y]=se({prop:n,defaultProp:x??!1,onChange:D,caller:y});return C.jsxs(ie,{scope:t,checked:k,disabled:i,children:[C.jsx(U.button,{type:"button",role:"switch","aria-checked":k,"aria-required":d,"data-state":V(k),"data-disabled":i?"":void 0,disabled:i,value:u,..._,ref:N,onClick:ae(a.onClick,E=>{Y(J=>!J),B&&(F.current=E.isPropagationStopped(),F.current||E.stopPropagation())})}),B&&C.jsx($,{control:g,bubbles:!F.current,name:s,value:u,checked:k,required:d,disabled:i,form:l,style:{transform:"translateX(-100%)"}})]})});q.displayName=y;var z="SwitchThumb",W=c.forwardRef((a,r)=>{const{__scopeSwitch:t,...s}=a,n=le(z,t);return C.jsx(U.span,{"data-state":V(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:r})});W.displayName=z;var de="SwitchBubbleInput",$=c.forwardRef(({__scopeSwitch:a,control:r,checked:t,bubbles:s=!0,...n},x)=>{const d=c.useRef(null),i=O(d,x),u=ce(t),D=oe(r);return c.useEffect(()=>{const l=d.current;if(!l)return;const _=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(_,"checked").set;if(u!==t&&v){const N=new Event("click",{bubbles:s});v.call(l,t),l.dispatchEvent(N)}},[u,t,s]),C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:i,style:{...n.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$.displayName=de;function V(a){return a?"checked":"unchecked"}var ue=q,me=W;const o=c.forwardRef(({className:a,...r},t)=>c.createElement(ue,{ref:t,"data-slot":"switch",className:I("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r},c.createElement(me,{"data-slot":"switch-thumb",className:I("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})));o.displayName="Switch";try{o.displayName="Switch",o.__docgenInfo={description:`🎯 목적: Switch 컴포넌트에 forwardRef 적용하여 React 18/19 호환성 제공
📝 주의사항: Radix UI Switch primitive 사용, checked/unchecked 상태 스타일 유지
🔄 변경이력: 2025-10-11 - React 18/19 dual support를 위한 forwardRef 추가`,displayName:"Switch",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const{expect:H,fn:pe,userEvent:he,within:fe}=__STORYBOOK_MODULE_TEST__;function Ie(){return e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(o,{id:"airplane-mode"}),e.createElement(A,{htmlFor:"airplane-mode"},"Airplane Mode"))}const we=Q({marketing_emails:M().default(!1).optional(),security_emails:M()});function be(){const a=K({resolver:X(we),defaultValues:{security_emails:!0}});function r(t){Z("You submitted the following values",{description:e.createElement("pre",{className:"mt-2 w-[320px] rounded-md bg-neutral-950 p-4"},e.createElement("code",{className:"text-white"},JSON.stringify(t,null,2)))})}return e.createElement(G,{...a},e.createElement("form",{onSubmit:a.handleSubmit(r),className:"w-full space-y-6"},e.createElement("div",null,e.createElement("h3",{className:"mb-4 text-lg font-medium"},"Email Notifications"),e.createElement("div",{className:"space-y-4"},e.createElement(R,{control:a.control,name:"marketing_emails",render:({field:t})=>e.createElement(T,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm"},e.createElement("div",{className:"space-y-0.5"},e.createElement(P,null,"Marketing emails"),e.createElement(j,null,"Receive emails about new products, features, and more.")),e.createElement(L,null,e.createElement(o,{checked:t.value,onCheckedChange:t.onChange})))}),e.createElement(R,{control:a.control,name:"security_emails",render:({field:t})=>e.createElement(T,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm"},e.createElement("div",{className:"space-y-0.5"},e.createElement(P,null,"Security emails"),e.createElement(j,null,"Receive emails about your account security.")),e.createElement(L,null,e.createElement(o,{checked:t.value,onCheckedChange:t.onChange,disabled:!0,"aria-readonly":!0})))}))),e.createElement(ee,{type:"submit"},"Submit")))}const He={title:"ui/Switch",component:o,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"A control that allows the user to toggle between checked and not checked."}}},args:{defaultChecked:!1,disabled:!1,onCheckedChange:pe()},excludeStories:/.*Demo$|.*Form$/},m={},p={args:{defaultChecked:!0}},h={args:{disabled:!0}},f={args:{disabled:!0,defaultChecked:!0}},w={render:a=>e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(o,{...a,id:"airplane-mode"}),e.createElement(A,{htmlFor:"airplane-mode"},"Airplane Mode"))},b={render:()=>e.createElement("div",{className:"w-full max-w-lg"},e.createElement(be,null),e.createElement(te,null))},S={name:"when user clicks switch, should toggle state",tags:["!dev","!autodocs"],render:()=>e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(o,{id:"test-switch"}),e.createElement(A,{htmlFor:"test-switch"},"Airplane Mode")),play:async({canvasElement:a,step:r})=>{const s=fe(a).getByRole("switch");await r("verify switch is initially unchecked",async()=>{await H(s).toHaveAttribute("aria-checked","false")}),await r("click switch to toggle on",async()=>{await he.click(s)}),await H(s).toHaveAttribute("aria-checked","true")}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{}",...m.parameters?.docs?.source},description:{story:"The default form of the switch.",...m.parameters?.docs?.description}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  }
}`,...p.parameters?.docs?.source},description:{story:"Switch in checked state.",...p.parameters?.docs?.description}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: true
  }
}`,...h.parameters?.docs?.source},description:{story:"Disabled switch.",...h.parameters?.docs?.description}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: true,
    defaultChecked: true
  }
}`,...f.parameters?.docs?.source},description:{story:"Disabled and checked switch.",...f.parameters?.docs?.description}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  render: args => <div className="flex items-center space-x-2">
      <Switch {...args} id="airplane-mode" />
      <Label htmlFor="airplane-mode">Airplane Mode</Label>
    </div>
}`,...w.parameters?.docs?.source},description:{story:"Switch with label.",...w.parameters?.docs?.description}}};b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:`{
  render: () => <div className="w-full max-w-lg">
      <SwitchForm />
      <Toaster />
    </div>
}`,...b.parameters?.docs?.source},description:{story:"Switch used within a form with validation.",...b.parameters?.docs?.description}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  name: "when user clicks switch, should toggle state",
  tags: ["!dev", "!autodocs"],
  render: () => <div className="flex items-center space-x-2">
      <Switch id="test-switch" />
      <Label htmlFor="test-switch">Airplane Mode</Label>
    </div>,
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = within(canvasElement);
    const switchButton = canvas.getByRole("switch");
    await step("verify switch is initially unchecked", async () => {
      await expect(switchButton).toHaveAttribute("aria-checked", "false");
    });
    await step("click switch to toggle on", async () => {
      await userEvent.click(switchButton);
    });
    await expect(switchButton).toHaveAttribute("aria-checked", "true");
  }
}`,...S.parameters?.docs?.source}}};const Oe=["SwitchDemo","SwitchForm","Default","Checked","Disabled","DisabledChecked","WithLabel","FormExample","ShouldToggleSwitch"];export{p as Checked,m as Default,h as Disabled,f as DisabledChecked,b as FormExample,S as ShouldToggleSwitch,Ie as SwitchDemo,be as SwitchForm,w as WithLabel,Oe as __namedExportsOrder,He as default};
