import{r}from"./iframe-BiU2suBC.js";import{a as O}from"./utils-DgWKjmuI.js";import{C as H}from"./check-DwuV1CBk.js";import{u as N}from"./index-vBP3oNXZ.js";import{c as U}from"./index-BT5_MN2X.js";import{c as A}from"./index-Dc_FVRD7.js";import{u as G}from"./index-CpP8DfwQ.js";import{u as K}from"./index-BT53Il6f.js";import{u as X}from"./index-DJRgpZyQ.js";import{P as V}from"./index-7qFhJqzR.js";import{P as R}from"./index-DF-uitis.js";import{j as d}from"./jsx-runtime-D_zvdyIk.js";var g="Checkbox",[$]=U(g),[J,I]=$(g);function Q(e){const{__scopeCheckbox:a,checked:o,children:l,defaultChecked:s,disabled:t,form:p,name:f,onCheckedChange:i,required:h,value:b="on",internal_do_not_use_render:u}=e,[C,v]=G({prop:o,defaultProp:s??!1,onChange:i,caller:g}),[k,x]=r.useState(null),[D,n]=r.useState(null),c=r.useRef(!1),y=k?!!p||!!k.closest("form"):!0,_={checked:C,disabled:t,setChecked:v,control:k,setControl:x,name:f,form:p,value:b,hasConsumerStoppedPropagationRef:c,required:h,defaultChecked:m(s)?!1:s,isFormControl:y,bubbleInput:D,setBubbleInput:n};return d.jsx(J,{scope:a,..._,children:W(u)?u(_):l})}var w="CheckboxTrigger",B=r.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:o,...l},s)=>{const{control:t,value:p,disabled:f,checked:i,required:h,setControl:b,setChecked:u,hasConsumerStoppedPropagationRef:C,isFormControl:v,bubbleInput:k}=I(w,e),x=N(s,b),D=r.useRef(i);return r.useEffect(()=>{const n=t?.form;if(n){const c=()=>u(D.current);return n.addEventListener("reset",c),()=>n.removeEventListener("reset",c)}},[t,u]),d.jsx(R.button,{type:"button",role:"checkbox","aria-checked":m(i)?"mixed":i,"aria-required":h,"data-state":T(i),"data-disabled":f?"":void 0,disabled:f,value:p,...l,ref:x,onKeyDown:A(a,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:A(o,n=>{u(c=>m(c)?!0:!c),k&&v&&(C.current=n.isPropagationStopped(),C.current||n.stopPropagation())})})});B.displayName=w;var j=r.forwardRef((e,a)=>{const{__scopeCheckbox:o,name:l,checked:s,defaultChecked:t,required:p,disabled:f,value:i,onCheckedChange:h,form:b,...u}=e;return d.jsx(Q,{__scopeCheckbox:o,checked:s,defaultChecked:t,disabled:f,required:p,onCheckedChange:h,name:l,form:b,value:i,internal_do_not_use_render:({isFormControl:C})=>d.jsxs(d.Fragment,{children:[d.jsx(B,{...u,ref:a,__scopeCheckbox:o}),C&&d.jsx(M,{__scopeCheckbox:o})]})})});j.displayName=g;var S="CheckboxIndicator",F=r.forwardRef((e,a)=>{const{__scopeCheckbox:o,forceMount:l,...s}=e,t=I(S,o);return d.jsx(V,{present:l||m(t.checked)||t.checked===!0,children:d.jsx(R.span,{"data-state":T(t.checked),"data-disabled":t.disabled?"":void 0,...s,ref:a,style:{pointerEvents:"none",...e.style}})})});F.displayName=S;var q="CheckboxBubbleInput",M=r.forwardRef(({__scopeCheckbox:e,...a},o)=>{const{control:l,hasConsumerStoppedPropagationRef:s,checked:t,defaultChecked:p,required:f,disabled:i,name:h,value:b,form:u,bubbleInput:C,setBubbleInput:v}=I(q,e),k=N(o,v),x=K(t),D=X(l);r.useEffect(()=>{const c=C;if(!c)return;const y=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(y,"checked").set,z=!s.current;if(x!==t&&P){const L=new Event("click",{bubbles:z});c.indeterminate=m(t),P.call(c,m(t)?!1:t),c.dispatchEvent(L)}},[C,x,t,s]);const n=r.useRef(m(t)?!1:t);return d.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??n.current,required:f,disabled:i,name:h,value:b,form:u,...a,tabIndex:-1,ref:k,style:{...a.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M.displayName=q;function W(e){return typeof e=="function"}function m(e){return e==="indeterminate"}function T(e){return m(e)?"indeterminate":e?"checked":"unchecked"}const E=r.forwardRef(({className:e,...a},o)=>r.createElement(j,{ref:o,"data-slot":"checkbox",className:O("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a},r.createElement(F,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none"},r.createElement(H,{className:"size-3.5"}))));E.displayName="Checkbox";try{E.displayName="Checkbox",E.__docgenInfo={description:`🎯 목적: Checkbox 컴포넌트에 forwardRef 적용하여 React 18/19 호환성 제공
📝 주의사항: Radix UI Checkbox primitive 사용, checked 상태 스타일 유지
🔄 변경이력: 2025-10-11 - React 18/19 dual support를 위한 forwardRef 추가`,displayName:"Checkbox",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{E as C};
