import{r as c}from"./iframe-BiU2suBC.js";import{c as Z}from"./index-BdQq_4o_.js";import{c as _}from"./index-Dc_FVRD7.js";import{u as A}from"./index-vBP3oNXZ.js";import{c as Se}from"./index-BT5_MN2X.js";import{u as ge}from"./index-CpP8DfwQ.js";import{u as ve}from"./index-DrzUb6Kr.js";import{u as we}from"./index-BT53Il6f.js";import{u as be}from"./index-DJRgpZyQ.js";import{P as K}from"./index-DF-uitis.js";import{c as ye}from"./index-BEeKTTV4.js";import{j as h}from"./jsx-runtime-D_zvdyIk.js";import{a as z}from"./utils-DgWKjmuI.js";import"./preload-helper-PPVm8Dsz.js";import"./index-ynW3WxUC.js";import"./index-Bjt_zW8z.js";import"./index-CtYre8eh.js";var ee=["PageUp","PageDown"],te=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],re={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[Y,Ce,De]=ye(B),[ne]=Se(B,[De]),[xe,O]=ne(B),oe=c.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:l=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:S=[r],value:g,onValueChange:i=()=>{},onValueCommit:u=()=>{},inverted:w=!1,form:C,...v}=e,f=c.useRef(new Set),m=c.useRef(0),b=a==="horizontal"?Re:Ee,[p=[],M]=ge({prop:g,defaultProp:S,onChange:y=>{[...f.current][m.current]?.focus(),i(y)}}),H=c.useRef(p);function F(y){const D=Me(p,y);T(y,D)}function pe(y){T(y,m.current)}function he(){const y=H.current[m.current];p[m.current]!==y&&u(p)}function T(y,D,{commit:U}={commit:!1}){const q=ke(l),L=Ie(Math.round((y-r)/l)*l+r,q),V=Z(L,[r,o]);M((E=[])=>{const x=Ae(E,V,D);if(Ne(x,d*l)){m.current=x.indexOf(V);const J=String(x)!==String(E);return J&&U&&u(x),J?x:E}else return E})}return h.jsx(xe,{scope:e.__scopeSlider,name:n,disabled:s,min:r,max:o,valueIndexToChangeRef:m,thumbs:f.current,values:p,orientation:a,form:C,children:h.jsx(Y.Provider,{scope:e.__scopeSlider,children:h.jsx(Y.Slot,{scope:e.__scopeSlider,children:h.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...v,ref:t,onPointerDown:_(v.onPointerDown,()=>{s||(H.current=p)}),min:r,max:o,inverted:w,onSlideStart:s?void 0:F,onSlideMove:s?void 0:pe,onSlideEnd:s?void 0:he,onHomeKeyDown:()=>!s&&T(r,0,{commit:!0}),onEndKeyDown:()=>!s&&T(o,p.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:D})=>{if(!s){const L=ee.includes(y.key)||y.shiftKey&&te.includes(y.key)?10:1,V=m.current,E=p[V],x=l*L*D;T(E+x,V,{commit:!0})}}})})})})});oe.displayName=B;var[ae,ie]=ne(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Re=c.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:l,onSlideStart:a,onSlideMove:s,onSlideEnd:d,onStepKeyDown:S,...g}=e,[i,u]=c.useState(null),w=A(t,b=>u(b)),C=c.useRef(void 0),v=ve(o),f=v==="ltr",m=f&&!l||!f&&l;function R(b){const p=C.current||i.getBoundingClientRect(),M=[0,p.width],F=W(M,m?[n,r]:[r,n]);return C.current=p,F(b-p.left)}return h.jsx(ae,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:h.jsx(se,{dir:v,"data-orientation":"horizontal",...g,ref:w,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const p=R(b.clientX);a?.(p)},onSlideMove:b=>{const p=R(b.clientX);s?.(p)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:b=>{const M=re[m?"from-left":"from-right"].includes(b.key);S?.({event:b,direction:M?-1:1})}})})}),Ee=c.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:l,onSlideMove:a,onSlideEnd:s,onStepKeyDown:d,...S}=e,g=c.useRef(null),i=A(t,g),u=c.useRef(void 0),w=!o;function C(v){const f=u.current||g.current.getBoundingClientRect(),m=[0,f.height],b=W(m,w?[r,n]:[n,r]);return u.current=f,b(v-f.top)}return h.jsx(ae,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:h.jsx(se,{"data-orientation":"vertical",...S,ref:i,style:{...S.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const f=C(v.clientY);l?.(f)},onSlideMove:v=>{const f=C(v.clientY);a?.(f)},onSlideEnd:()=>{u.current=void 0,s?.()},onStepKeyDown:v=>{const m=re[w?"from-bottom":"from-top"].includes(v.key);d?.({event:v,direction:m?-1:1})}})})}),se=c.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:d,...S}=e,g=O(B,n);return h.jsx(K.span,{...S,ref:t,onKeyDown:_(e.onKeyDown,i=>{i.key==="Home"?(a(i),i.preventDefault()):i.key==="End"?(s(i),i.preventDefault()):ee.concat(te).includes(i.key)&&(d(i),i.preventDefault())}),onPointerDown:_(e.onPointerDown,i=>{const u=i.target;u.setPointerCapture(i.pointerId),i.preventDefault(),g.thumbs.has(u)?u.focus():r(i)}),onPointerMove:_(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&o(i)}),onPointerUp:_(e.onPointerUp,i=>{const u=i.target;u.hasPointerCapture(i.pointerId)&&(u.releasePointerCapture(i.pointerId),l(i))})})}),le="SliderTrack",ce=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=O(le,n);return h.jsx(K.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});ce.displayName=le;var $="SliderRange",de=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=O($,n),l=ie($,n),a=c.useRef(null),s=A(t,a),d=o.values.length,S=o.values.map(u=>fe(u,o.min,o.max)),g=d>1?Math.min(...S):0,i=100-Math.max(...S);return h.jsx(K.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:s,style:{...e.style,[l.startEdge]:g+"%",[l.endEdge]:i+"%"}})});de.displayName=$;var G="SliderThumb",ue=c.forwardRef((e,t)=>{const n=Ce(e.__scopeSlider),[r,o]=c.useState(null),l=A(t,s=>o(s)),a=c.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return h.jsx(_e,{...e,ref:l,index:a})}),_e=c.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...l}=e,a=O(G,n),s=ie(G,n),[d,S]=c.useState(null),g=A(t,R=>S(R)),i=d?a.form||!!d.closest("form"):!0,u=be(d),w=a.values[r],C=w===void 0?0:fe(w,a.min,a.max),v=Be(r,a.values.length),f=u?.[s.size],m=f?Te(f,C,s.direction):0;return c.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${C}% + ${m}px)`},children:[h.jsx(Y.ItemSlot,{scope:e.__scopeSlider,children:h.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":w,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...l,ref:g,style:w===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),i&&h.jsx(me,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:w},r)]})});ue.displayName=G;var Pe="RadioBubbleInput",me=c.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const o=c.useRef(null),l=A(o,r),a=we(t);return c.useEffect(()=>{const s=o.current;if(!s)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&g){const i=new Event("input",{bubbles:!0});g.call(s,t),s.dispatchEvent(i)}},[a,t]),h.jsx(K.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});me.displayName=Pe;function Ae(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,l)=>o-l)}function fe(e,t,n){const l=100/(n-t)*(e-t);return Z(l,[0,100])}function Be(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Me(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function Te(e,t,n){const r=e/2,l=W([0,50],[0,r]);return(r-l(t)*n)*n}function Ve(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ne(e,t){if(t>0){const n=Ve(e);return Math.min(...n)>=t}return!0}function W(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ke(e){return(String(e).split(".")[1]||"").length}function Ie(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Ke=oe,je=ce,ze=de,Oe=ue;const P=c.forwardRef(({className:e,defaultValue:t,value:n,min:r=0,max:o=100,...l},a)=>{const s=c.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,o],[n,t,r,o]);return c.createElement(Ke,{ref:a,"data-slot":"slider",defaultValue:t,value:n,min:r,max:o,className:z("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l},c.createElement(je,{"data-slot":"slider-track",className:z("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5")},c.createElement(ze,{"data-slot":"slider-range",className:z("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})),Array.from({length:s.length},(d,S)=>c.createElement(Oe,{"data-slot":"slider-thumb",key:S,className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"})))});P.displayName="Slider";try{P.displayName="Slider",P.__docgenInfo={description:`🎯 목적: Slider 컴포넌트에 forwardRef 적용하여 React 18/19 호환성 제공
📝 주의사항: Radix UI Slider primitive 사용, useMemo를 통한 values 계산 로직 유지
🔄 변경이력: 2025-10-11 - React 18/19 dual support를 위한 forwardRef 추가`,displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const{expect:He,userEvent:Q,within:Fe}=__STORYBOOK_MODULE_TEST__;function X({className:e,...t}){return React.createElement("div",{className:"w-[350px]"},React.createElement(P,{defaultValue:[50],max:100,step:1,className:z("w-full",e),...t}))}const it={title:"ui/Slider",component:P,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"An input where the user selects a value from within a given range."}}},excludeStories:/.*Demo$/,argTypes:{min:{control:"number",description:"The minimum value of the slider"},max:{control:"number",description:"The maximum value of the slider"},step:{control:"number",description:"The step increment for the slider"},disabled:{control:"boolean",description:"Whether the slider is disabled"}},args:{min:0,max:100,step:1,disabled:!1},render:e=>React.createElement("div",{className:"w-[350px]"},React.createElement(P,{defaultValue:[50],min:e.min,max:e.max,step:e.step,disabled:e.disabled,className:"w-full"}))},N={},k={render:()=>React.createElement(X,{inverted:!0})},I={render:()=>React.createElement(X,{disabled:!0})},j={name:"when user interacts with slider, should change value",tags:["!dev","!autodocs"],render:()=>React.createElement(X,null),play:async({canvasElement:e,step:t})=>{const n=Fe(e);await t("focus slider and press arrow key",async()=>{const r=n.getByRole("slider");await Q.click(r);const o=r.getAttribute("aria-valuenow");await Q.keyboard("{ArrowRight}");const l=r.getAttribute("aria-valuenow");await He(Number(l)).toBeGreaterThan(Number(o))})}};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:"{}",...N.parameters?.docs?.source},description:{story:"The default form of the slider.",...N.parameters?.docs?.description}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  render: () => <SliderDemo inverted />
}`,...k.parameters?.docs?.source},description:{story:"Use the `inverted` prop to have the slider fill from right to left.",...k.parameters?.docs?.description}}};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  render: () => <SliderDemo disabled />
}`,...I.parameters?.docs?.source},description:{story:"Use the `disabled` prop to disable the slider.",...I.parameters?.docs?.description}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  name: "when user interacts with slider, should change value",
  tags: ["!dev", "!autodocs"],
  render: () => <SliderDemo />,
  play: async ({
    canvasElement,
    step
  }) => {
    const canvas = within(canvasElement);
    await step("focus slider and press arrow key", async () => {
      const slider = canvas.getByRole("slider");
      await userEvent.click(slider);

      // Get initial value
      const initialValue = slider.getAttribute("aria-valuenow");

      // Press right arrow key to increase value
      await userEvent.keyboard("{ArrowRight}");

      // Verify value changed
      const newValue = slider.getAttribute("aria-valuenow");
      await expect(Number(newValue)).toBeGreaterThan(Number(initialValue));
    });
  }
}`,...j.parameters?.docs?.source}}};const st=["SliderDemo","Default","Inverted","Disabled","ShouldChangeValue"];export{N as Default,I as Disabled,k as Inverted,j as ShouldChangeValue,X as SliderDemo,st as __namedExportsOrder,it as default};
